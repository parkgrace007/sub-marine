# ğŸš€ ë‰´ìŠ¤ í•„í„°ë§ ì¡°ì • - ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ

> **ëª©í‘œ**: ë‰´ìŠ¤ í’ˆì§ˆ ê°œì„ ì„ ìœ„í•œ í‚¤ì›Œë“œ í•„í„°ë§ ì¡°ì •
> **ì†Œìš” ì‹œê°„**: 30ë¶„ ~ 1ì‹œê°„
> **ë‚œì´ë„**: ì‰¬ì›€ (ì½”ë“œ ë³µì‚¬/ë¶™ì—¬ë„£ê¸°)

---

## ğŸ“ í˜„ì¬ ìƒí™© ìš”ì•½

### ê¸°ë³¸ ì •ë³´
- **ë‰´ìŠ¤ ì†ŒìŠ¤**: NewsAPI.org (ìµœê·¼ 6ì‹œê°„ ì˜ì–´ ë‰´ìŠ¤)
- **ê°±ì‹  ì£¼ê¸°**: 3ì‹œê°„ë§ˆë‹¤ ìë™
- **í˜„ì¬ í•„í„°ë§ ì„±ëŠ¥**: 40ê°œ â†’ 15-20ê°œ (ì•½ 45% í†µê³¼)
- **ì£¼ìš” ë¬¸ì œ**: ì¼ë¶€ ì¤‘ìš” ì½”ì¸ ë‰´ìŠ¤ ëˆ„ë½, ê°€ë” ì—”í„°í…Œì¸ë¨¼íŠ¸ ë‰´ìŠ¤ í˜¼ì…

### í•„í„° êµ¬ì¡°
```
52ê°œ í•„ìˆ˜ í‚¤ì›Œë“œ (MUST_HAVE_KEYWORDS)
   +
115ê°œ ì œì™¸ í‚¤ì›Œë“œ (EXCLUDE_KEYWORDS)
   =
5ë‹¨ê³„ ìš°ì„ ìˆœìœ„ í•„í„°ë§ ì‹œìŠ¤í…œ
```

---

## ğŸ¯ ê¶Œì¥ ê°œì„  ì•ˆ (3ê°€ì§€ ì˜µì…˜)

### ì˜µì…˜ 1: ë¹ ë¥¸ ê°œì„  (10ë¶„)
**ëª©í‘œ**: ì£¼ìš” ì½”ì¸ ì»¤ë²„ë¦¬ì§€ í–¥ìƒ
**ì‘ì—…**: MUST_HAVE_KEYWORDSì— 18ê°œ ì¶”ê°€

```javascript
// íŒŒì¼: backend/src/services/newsapi.js
// ìœ„ì¹˜: Lines 40-53

// ê¸°ì¡´ ì½”ë“œ ë’¤ì— ì¶”ê°€:
'sui', 'ton', 'toncoin', 'avalanche', 'avax', 'chainlink', 'link',
'polkadot', 'dot', 'uniswap', 'uni', 'tron', 'trx',
'stellar', 'xlm', 'cosmos', 'atom', 'near',
```

**ì˜ˆìƒ íš¨ê³¼**:
- âœ… Top 20 ì½”ì¸ ë‰´ìŠ¤ ì»¤ë²„ë¦¬ì§€ 100%
- âœ… ë‰´ìŠ¤ ê°œìˆ˜ +20% (20-25ê°œ)
- âš ï¸ ë…¸ì´ì¦ˆ ì¦ê°€ ê°€ëŠ¥ì„± ë‚®ìŒ

---

### ì˜µì…˜ 2: ê· í˜• ê°œì„  (30ë¶„)
**ëª©í‘œ**: ì£¼ìš” ì½”ì¸ + DeFi/NFT ìƒíƒœê³„ ì»¤ë²„ë¦¬ì§€ í–¥ìƒ
**ì‘ì—…**: MUST_HAVE 18ê°œ + ìƒíƒœê³„ 15ê°œ ì¶”ê°€

```javascript
// 1. ì£¼ìš” ì½”ì¸ ì¶”ê°€ (ìœ„ì™€ ë™ì¼)
'sui', 'ton', 'toncoin', 'avalanche', 'avax', 'chainlink', 'link',
'polkadot', 'dot', 'uniswap', 'uni', 'tron', 'trx',
'stellar', 'xlm', 'cosmos', 'atom', 'near',

// 2. DeFi í”„ë¡œí† ì½œ ì¶”ê°€
'aave', 'compound', 'maker', 'curve', 'sushiswap', 'pancakeswap',

// 3. NFT ë§ˆì¼“í”Œë ˆì´ìŠ¤ ì¶”ê°€
'opensea', 'blur', 'rarible', 'magic eden',

// 4. Layer 2 ì¶”ê°€
'arbitrum', 'optimism', 'base', 'zksync', 'starknet'
```

**ì˜ˆìƒ íš¨ê³¼**:
- âœ… DeFi/NFT ë‰´ìŠ¤ ì»¤ë²„ë¦¬ì§€ ëŒ€í­ í–¥ìƒ
- âœ… ë‰´ìŠ¤ ê°œìˆ˜ +30% (22-28ê°œ)
- âš ï¸ ì•½ê°„ì˜ ë…¸ì´ì¦ˆ ì¦ê°€ ê°€ëŠ¥

---

### ì˜µì…˜ 3: ì „ë©´ ê°œì„  (1ì‹œê°„)
**ëª©í‘œ**: ìµœê³  í’ˆì§ˆ + ìµœëŒ€ ì»¤ë²„ë¦¬ì§€ + ë…¸ì´ì¦ˆ ìµœì†Œí™”
**ì‘ì—…**: MUST_HAVE 33ê°œ ì¶”ê°€ + EXCLUDE ì •ì œ + ì˜ˆì™¸ ì²˜ë¦¬

#### Step 1: MUST_HAVE í™•ì¥ (ì˜µì…˜ 2ì™€ ë™ì¼)

#### Step 2: EXCLUDE ì •ì œ
```javascript
// íŒŒì¼: backend/src/services/newsapi.js
// ìœ„ì¹˜: Lines 55-116

// ì œê±°í•  í‚¤ì›Œë“œ (ë¸”ë¡ì²´ì¸ í”„ë¡œì íŠ¸ì™€ ê²¹ì¹¨)
ì œê±°: 'real estate', 'property' (ë¶€ë™ì‚° í† í°í™” ë‰´ìŠ¤ í—ˆìš©)
ì œê±°: 'climate change', 'global warming' (íƒ„ì†Œ ë°°ì¶œê¶Œ NFT í—ˆìš©)
ì œê±°: 'election', 'vote' (ê·œì œ ë‰´ìŠ¤ í—ˆìš©)

// ì¶”ê°€í•  í‚¤ì›Œë“œ (ë…¸ì´ì¦ˆ ì°¨ë‹¨ ê°•í™”)
ì¶”ê°€: 'podcast', 'spotify', 'tiktok', 'youtube creator', 'influencer'
```

#### Step 3: ì˜ˆì™¸ ì²˜ë¦¬ ë¡œì§ ì¶”ê°€
```javascript
// íŒŒì¼: backend/src/services/newsapi.js
// ìœ„ì¹˜: Lines 136-141 ìˆ˜ì •

// PRIORITY 2: Full text check for excluded keywords
const hasExcludedKeyword = EXCLUDE_KEYWORDS.some(keyword => fullText.includes(keyword))
if (hasExcludedKeyword) {
  const matchedKeyword = EXCLUDE_KEYWORDS.find(keyword => fullText.includes(keyword))

  // ğŸ†• ì˜ˆì™¸ ì²˜ë¦¬: í† í°í™” ê´€ë ¨ ë‰´ìŠ¤ í—ˆìš©
  const isBlockchainException = (
    (matchedKeyword === 'real estate' || matchedKeyword === 'property') &&
    (fullText.includes('tokenization') || fullText.includes('blockchain') || fullText.includes('nft'))
  )

  const isClimateException = (
    (matchedKeyword === 'climate change' || matchedKeyword === 'global warming') &&
    (fullText.includes('nft') || fullText.includes('carbon credit'))
  )

  if (!isBlockchainException && !isClimateException) {
    return { passed: false, reason: `contains "${matchedKeyword}"` }
  }
}
```

**ì˜ˆìƒ íš¨ê³¼**:
- âœ… ë‰´ìŠ¤ í’ˆì§ˆ ìµœê³  ìˆ˜ì¤€
- âœ… ë‰´ìŠ¤ ê°œìˆ˜ +40% (25-30ê°œ)
- âœ… False Positive < 5%
- âœ… False Negative < 3%

---

## ğŸ› ï¸ ì‹¤í–‰ ë°©ë²•

### 1ë‹¨ê³„: íŒŒì¼ ì—´ê¸°
```bash
# VSCodeì—ì„œ ì—´ê¸°
code /Users/heojunseog/Desktop/real_whale/backend/src/services/newsapi.js
```

### 2ë‹¨ê³„: í‚¤ì›Œë“œ ìˆ˜ì •
- **MUST_HAVE_KEYWORDS**: Lines 40-53
- **EXCLUDE_KEYWORDS**: Lines 55-116
- **í•„í„°ë§ ë¡œì§**: Lines 118-182

### 3ë‹¨ê³„: í…ŒìŠ¤íŠ¸
```bash
# í„°ë¯¸ë„ 1: Backend ì¬ì‹œì‘
cd /Users/heojunseog/Desktop/real_whale/backend
npm start

# í„°ë¯¸ë„ 2: ìˆ˜ë™ ê°±ì‹ 
curl -X POST http://localhost:3000/api/news/refresh \
  -H "x-admin-token: 94fc8ba915a301bc31acc1fda0e3b00be875c50744f7e4273885b828c3c0e56d"

# Backend ì½˜ì†”ì—ì„œ í•„í„°ë§ ë¡œê·¸ í™•ì¸
```

### 4ë‹¨ê³„: ë¡œê·¸ ë¶„ì„
```
# Backend ì½˜ì†” ì¶œë ¥ ì˜ˆì‹œ:

âœ… Included: "Bitcoin Hits New All-Time High" (3 keywords, 4.50% density)
âœ… Included: "Sui Network Launches DeFi Protocol" (ğŸ”¥ fresh (1.2h) with 2 keyword(s))
â›” Excluded: "Bitcoin Documentary on Netflix" (contains "documentary")

ğŸ” Filter Summary:
   Input: 40 articles
   Output: 22 crypto-related (55.0%)  ğŸ‘ˆ ì¦ê°€!
   Rejected: 18
```

### 5ë‹¨ê³„: í”„ë¡ íŠ¸ì—”ë“œ í™•ì¸
```bash
# http://localhost:5173 ì ‘ì†
# ë‰´ìŠ¤ Â· ë¦¬í¬íŠ¸ í˜ì´ì§€ì—ì„œ ë‰´ìŠ¤ í’ˆì§ˆ í™•ì¸
```

---

## âœ… í’ˆì§ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

### í•„í„°ë§ ì„±ê³µ ê¸°ì¤€
- [ ] **ë‰´ìŠ¤ ê°œìˆ˜**: 20-28ê°œ (40ê°œ ì¤‘ 50-70%)
- [ ] **ì£¼ìš” ì½”ì¸**: BTC, ETH, SOL, XRP ë‰´ìŠ¤ í¬í•¨
- [ ] **DeFi/NFT**: Uniswap, OpenSea ê´€ë ¨ ë‰´ìŠ¤ í¬í•¨
- [ ] **ì—”í„°í…Œì¸ë¨¼íŠ¸ ì°¨ë‹¨**: Netflix, ì˜í™”, ìŒì•… ë‰´ìŠ¤ ì—†ìŒ
- [ ] **ë²ˆì—­ í’ˆì§ˆ**: ìì—°ìŠ¤ëŸ¬ìš´ í•œêµ­ì–´
- [ ] **ì¤‘ë³µ ì—†ìŒ**: ë™ì¼ ë‰´ìŠ¤ ì—¬ëŸ¬ ë²ˆ í‘œì‹œë˜ì§€ ì•ŠìŒ

### ë¬¸ì œ ë°œìƒ ì‹œ í™•ì¸ ì‚¬í•­
```bash
# Q1: ë‰´ìŠ¤ê°€ í‘œì‹œë˜ì§€ ì•Šì•„ìš”
â†’ Backend ì½˜ì†”ì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸
â†’ NEWSAPI_KEY, ANTHROPIC_API_KEY ì„¤ì • í™•ì¸

# Q2: ì—”í„°í…Œì¸ë¨¼íŠ¸ ë‰´ìŠ¤ê°€ ì„ì—¬ìš”
â†’ Backend ì½˜ì†”ì—ì„œ â›” Excluded ë¡œê·¸ í™•ì¸
â†’ EXCLUDE_KEYWORDSì— í•´ë‹¹ í‚¤ì›Œë“œ ì¶”ê°€

# Q3: ì¤‘ìš”í•œ ì½”ì¸ ë‰´ìŠ¤ê°€ ë¹ ì ¸ìš”
â†’ Backend ì½˜ì†”ì—ì„œ Rejected ë¡œê·¸ í™•ì¸
â†’ MUST_HAVE_KEYWORDSì— ì½”ì¸ ì‹¬ë³¼ ì¶”ê°€
```

---

## ğŸ“Š ë³€ê²½ ì „í›„ ë¹„êµ (ì˜ˆìƒ)

### í˜„ì¬ (ë³€ê²½ ì „)
```
í•„ìˆ˜ í‚¤ì›Œë“œ: 52ê°œ
ì œì™¸ í‚¤ì›Œë“œ: 115ê°œ
ë‰´ìŠ¤ í†µê³¼ìœ¨: 45% (18/40)
ì£¼ìš” ì½”ì¸ ì»¤ë²„ë¦¬ì§€: 70%
DeFi/NFT ì»¤ë²„ë¦¬ì§€: 40%
False Positive: 10%
```

### ì˜µì…˜ 1 ì ìš© í›„
```
í•„ìˆ˜ í‚¤ì›Œë“œ: 70ê°œ (+18)
ì œì™¸ í‚¤ì›Œë“œ: 115ê°œ
ë‰´ìŠ¤ í†µê³¼ìœ¨: 55% (22/40)
ì£¼ìš” ì½”ì¸ ì»¤ë²„ë¦¬ì§€: 100% âœ…
DeFi/NFT ì»¤ë²„ë¦¬ì§€: 40%
False Positive: 10%
```

### ì˜µì…˜ 2 ì ìš© í›„
```
í•„ìˆ˜ í‚¤ì›Œë“œ: 85ê°œ (+33)
ì œì™¸ í‚¤ì›Œë“œ: 115ê°œ
ë‰´ìŠ¤ í†µê³¼ìœ¨: 65% (26/40)
ì£¼ìš” ì½”ì¸ ì»¤ë²„ë¦¬ì§€: 100% âœ…
DeFi/NFT ì»¤ë²„ë¦¬ì§€: 80% âœ…
False Positive: 12%
```

### ì˜µì…˜ 3 ì ìš© í›„
```
í•„ìˆ˜ í‚¤ì›Œë“œ: 85ê°œ (+33)
ì œì™¸ í‚¤ì›Œë“œ: 118ê°œ (+3, -3 ì •ì œ)
ì˜ˆì™¸ ì²˜ë¦¬: 2ê°œ ì¶”ê°€
ë‰´ìŠ¤ í†µê³¼ìœ¨: 70% (28/40)
ì£¼ìš” ì½”ì¸ ì»¤ë²„ë¦¬ì§€: 100% âœ…
DeFi/NFT ì»¤ë²„ë¦¬ì§€: 90% âœ…
False Positive: 5% âœ…
```

---

## ğŸ¯ ê°œì¸ ë§ì¶¤ ì¡°ì • íŒ

### ë‰´ìŠ¤ê°€ ë„ˆë¬´ ì ì„ ë•Œ
```javascript
// ë°©ë²• 1: ì‹œê°„ ê°€ì¤‘ì¹˜ ì—°ì¥
if (ageHours <= 12 && cryptoKeywordCount >= 1) {  // 6 â†’ 12

// ë°©ë²• 2: í‚¤ì›Œë“œ ë°€ë„ ì™„í™”
if (keywordDensity < 0.015) {  // 0.02 â†’ 0.015

// ë°©ë²• 3: ì œëª© í‚¤ì›Œë“œ ìš”êµ¬ì‚¬í•­ ì œê±° (Lines 171-175 ì£¼ì„ ì²˜ë¦¬)
```

### ë‰´ìŠ¤ê°€ ë„ˆë¬´ ë§ì„ ë•Œ
```javascript
// ë°©ë²• 1: ì‹œê°„ ê°€ì¤‘ì¹˜ ë‹¨ì¶•
if (ageHours <= 3 && cryptoKeywordCount >= 1) {  // 6 â†’ 3

// ë°©ë²• 2: í‚¤ì›Œë“œ ë°€ë„ ê°•í™”
if (keywordDensity < 0.03) {  // 0.02 â†’ 0.03

// ë°©ë²• 3: í•„ìˆ˜ í‚¤ì›Œë“œ ê°œìˆ˜ ì¦ê°€
if (cryptoKeywordCount < 3) {  // 2 â†’ 3
```

### ì—”í„°í…Œì¸ë¨¼íŠ¸ ë‰´ìŠ¤ê°€ ì„ì¼ ë•Œ
```javascript
// EXCLUDE_KEYWORDSì— ì¶”ê°€
'podcast', 'spotify', 'tiktok', 'youtube creator', 'influencer',
'celebrity news', 'entertainment news', 'pop culture'
```

---

## ğŸ“ ë³€ê²½ ë‚´ì—­ ê¸°ë¡ í…œí”Œë¦¿

```markdown
### ë³€ê²½ì¼: 2025-11-24
**ë³€ê²½ì**: [ë³¸ì¸ ì´ë¦„]
**ì ìš© ì˜µì…˜**: ì˜µì…˜ 2 (ê· í˜• ê°œì„ )

**ë³€ê²½ ë‚´ìš©**:
- MUST_HAVE ì¶”ê°€: sui, ton, avalanche, ... (18ê°œ)
- MUST_HAVE ì¶”ê°€: aave, opensea, arbitrum, ... (15ê°œ)

**ì„±ëŠ¥ ë³€í™”**:
- Before: 40ê°œ â†’ 18ê°œ (45%)
- After: 40ê°œ â†’ 26ê°œ (65%)

**í’ˆì§ˆ í‰ê°€**:
- ì£¼ìš” ì½”ì¸ ì»¤ë²„ë¦¬ì§€: 70% â†’ 100% âœ…
- DeFi/NFT ì»¤ë²„ë¦¬ì§€: 40% â†’ 80% âœ…
- False Positive: 10% â†’ 12% (í—ˆìš© ë²”ìœ„)

**ë°œê²¬í•œ ë¬¸ì œ**:
- [ë¬¸ì œ 1: ì„¤ëª…]
- [ë¬¸ì œ 2: ì„¤ëª…]

**ë‹¤ìŒ ê³„íš**:
- [ê°œì„  ê³„íš]
```

---

## ğŸ”— ì¶”ê°€ ìë£Œ

- **ì „ì²´ ê°€ì´ë“œ**: [NEWS_FILTERING_GUIDE.md](NEWS_FILTERING_GUIDE.md)
- **ì½”ë“œ íŒŒì¼**: `backend/src/services/newsapi.js`
- **ìŠ¤ì¼€ì¤„ëŸ¬**: `backend/src/services/scheduler.js`
- **DB ìŠ¤í‚¤ë§ˆ**: `backend/scripts/translated_news.sql`

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-11-24
**ë‹¤ìŒ ê²€í† **: ë³€ê²½ í›„ 24ì‹œê°„ ì´ë‚´
